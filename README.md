<h1>FCMPROXY</h1>

Free iframe-based proxy for easy Firebase Cloud Messaging instant messaging integration, allowing instant messaging between applications using FCM.

This FREE (*) module allows most web sites (**) to use Firebase Cloud Messaging. It is based on developments realized in the frame of the radiahub-105 Firebase Project. The client part of the source code is available on [GitHub](#radiahub-public-repositories-on-github)

(*)
FCMPROXY is free for all users (private, corporate), provided the user has registered to radiahub services and obtained an API key.

(**)
**Important**: 

most free hosting service providers attempt to protect automatically, in a non-configurable way, the hosted web sites by denying CORS (Cross-Origin Resources Sharing) or/and enforcing a strict Same Origin Policy, both preventing the launch of their web page in an IFrame.
These policies are configurable on most premium hosting service providers, in which case it should be possible to authorize the service to interact specifically with the subdomain radiahub.22web.org while keeping the other service security settings to ensure a maximum data security.


Licensed under [MIT License](https://github.com/radiahub/fcmproxy?tab=MIT-1-ov-file)
<br>&nbsp;

## Table of Contents<br>

- [Table of Contents](#table-of-contents)
- [Advantages](#advantages)
- [Pre-requisites](#pre-requisites)
- [Referencing FCM tokens](#referencing-fcm-tokens)
- [Integration of your web site](#integration-of-your-web-site)
- [Download and bind script fcmproxy.js](#download-and-bind-script-fcmproxyjs)
	- [Download from GitHub](#download-from-github)
	- [Bind script](#bind-script)
	- [Initialize fcmproxy object](#initialize-fcmproxy-object)
- [Free code and free applications: showcases catching your attention!](#free-code-and-free-applications-showcases-catching-your-attention)
- [API to register FCM tokens manually](#api-to-register-fcm-tokens-manually)
- [API to delete FCM token references manually (unreg (PIN,token) pairs)](#api-to-delete-fcm-token-references-manually-unreg-pintoken-pairs)
- [radiahub public repositories on GitHub](#radiahub-public-repositories-on-github)

<br>

## Advantages

- 100% Free usage (for radiahub-registered users websites only),
- Comfortable Fair Usage Practice (FUP) set by default to 50000 messages per day,
- Does not require to create a Google development account,
- Avoids some pretty cumbersome development and testing headache,
- Front-end to your application based on pure JavaScript (asynchronous), does not require additional extensions,
- Use FCMPROXY to communicate with instant messages through various devices and platforms (web pages, Android apps, IOS apps, etc.) within radiahub or with other applications (why not your application?)

<br>

## Pre-requisites

- Your web site must be able to run in an iframe (not only in top-level)
- You must register for an API key 
	- at web page http://radiahub.22web.org/
	- [using Google Forms](https://docs.google.com/forms/d/e/1FAIpQLSfxhndoVHp21zhWzkvZysKdd58_5FXRy3CM_K9KMDqVJbyRcw/viewform?usp=publish-editor)
	- using radiahub authenticator application [download here](https://drive.google.com/file/d/1WHfBoQ9xZBG2Xk2PTTI4_TTjDC3LDm-V/view?usp=drive_link)

<br>

## Referencing FCM tokens

Device applications are uniquely identified by an FCM token generated by Google API.
For security reasons, these tokens are not visible on FCMPROXY.
PIN are generated by radiahub to reference the FCM token generated by Google API.

**Important**:

The API keys obtained at user registration are no PINs.

<br>

## Integration of your web site

You must embed your web site in radiahub proxy application, which provides a full-screen iframe in which your web site will run.

URL			: http://radiahub.22web.org/fcmproxy.php

Method	: GET (preferred)

Parameters (GET)

<table>
	<tr>
		<th>Name</th>
		<th>Description</th>
		<th>Example</th>
		<th>Scope<th>
	</tr>
	<tr>
		<td>apikey</td>
		<td>Your API key</td>
		<td>10 digits code, ex 1234567890</td>
		<td>Mandatory</td>
	</tr>
	<tr>
		<td>overflow</td>
		<td>How the iframe window handles overflow</td>
		<td>Any valid CSS overflow style value, ex "auto", "hidden", etc.</td>
		<td>Optional, default "hidden"</td>
	</tr>
</table>

You may want to redirect the access point of your web site to the radiahub fcmproxy URL
For this, you have to rename the access point script (typically index.html or index.php, etc.) to some backup name, and implements a new access script.

Here is an example of basic script redirecting your site entry point to the iframe-based proxy:

```html
<html>
<head>
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
<meta charset="UTF-8">
<script>
window.document.location = "http://radiahub.22web.org/fcmproxy.php?apikey=1234567890&overflow=hidden&title=My%20pretty%20website&url=https://path_to_my_website.html";
</script>
</head>
<body></body>
</html>
```

<b>Important</b><br/>
Like in the example above, do not forget that the location should be URL-encoded according to the script language in use (here, html and JavaScript)

<br>

## Download and bind script fcmproxy.js

### Download from GitHub

- Download fcmproxy.js [download here](https://github.com/radiahub/fcmproxy/blob/main/js/fcmproxy.js)
- Clone fcmproxy repository [clone](https://github.com/radiahub/fcmproxy/tree/main)

### Bind script

Example (minimized JavaScript file):

```html
<script src="fcmproxy.min.js"></script>
```

Binding script fcmproxy.js exposes a new object: fcmproxy

### Initialize fcmproxy object

call fcmproxy.init() as early as possible in your initialization script

Trivial examples:

```html
<html>
	<head>
		...
		<script src="fcmproxy.min.js"></script>
		...
	</head>
	<body onload="fcmproxy.init();">
		...
	</body>
</html>
```

At the end of body section:

```html
<body>
	...
	<script src="fcmproxy.min.js"></script>
	<script>fcmproxy.init();</script>
</body>
```

<br>

## Free code and free applications: showcases catching your attention!

This is definitively the primary goal!
The free applications are not only productive tools (just use them, they are free!), they introduce a little part of my commitment and my development work to you, with the hope that you will consider extending these applications to your specific needs, or develop your own software solution.

<br>

## API to register FCM tokens manually

This token-centric API registers tokens as created by Google Firebase Cloud Messaging for target identification and generate for each token associated FCMKEY.

The URL points to a WEB page located at

URL			: https://radiahub.22web.org/fcmproxy.php?do=fcmreg&apikey=[your API key]&token=[token]&pin=[pin]

Method	: GET (preferred)

Parameters (GET)

<table>
	<tr>
		<th>Name</th>
		<th>Description</th>
		<th>Example</th>
		<th>Scope<th>
	</tr>
	<tr>
		<td>apikey</td>
		<td>Your API key</td>
		<td>10 digits code, ex 1234567890</td>
		<td>Mandatory</td>
	</tr>
	<tr>
		<td>token</td>
		<td>The FCM token as generated by Google FCM API (142 chars, alphanumeric)</td>
		<td>142 alphanumeric code, ex fjEKD5DSaVUUu0fJHyhz5e:APA91bGaKoQfcw_ ... 4-D2JcXl9aayUjJY3sst9wESH0</td>
		<td>Mandatory</td>
	</tr>
	<tr>
		<td>pin</td>
		<td>The radiahub PIN associated to the FCM token</td>
		<td>8-digits PIN value, ex 12345678</td>
		<td>Optional: if set and if and only if no entry for this PIN exists, a new pair (PIN, token) entry will be generated</td>
	</tr>
</table>


Return value (JSON format)

<table>
	<tr>
		<th>Name</th>
		<th>Description</th>
		<th>Example</th>
	</tr>
	<tr>
		<td>errno</td>
		<td>4 digits error code, 1000 = SUCCESS</td>
		<td>1000</td>
	</tr>
	<tr>
		<td>errstr</td>
		<td>Textual description of the error code</td>
		<td>1000 = SUCCESS, 2003 = ACCOUNT IS NOT VALID, etc.</td>
	</tr>
	<tr>
		<td>instant</td>
		<td>WIT-based transaction instant in YYYY-MM-DD HH-MM-SS format</td>
		<td>2026-01-08 21:11:42</td>
	</tr>
	<tr>
		<td>PIN</td>
		<td>The radiahub PIN associated to the given token</td>
		<td>8-digits PIN value for the target associated with the token, ex 12345678</td>
	</tr>
</table>

Example

Request

```
https://radiahub.22web.org/fcmproxy.php?do=fcmreg&apikey=12345678&token=fjEKD5DSaVUUu0fJHyhz5e:APA91bGaKoQfcw_ ... 4-D2JcXl9aayUjJY3sst9wESH0
```

Response

```json
{
	"errno"   : 1000,
	"errstr"  : "SUCCESS",
	"instant" : "2026-01-08 21:11:42",
	"PIN"     : "90933949"
}
```

<br>

## API to delete FCM token references manually (unreg (PIN,token) pairs)

This token-centric API deletes a (PIN,token) pair based on the values of tokens as created by Google Firebase Cloud Messaging.

The URL points to a WEB page located at

URL			: https://radiahub.22web.org/fcmproxy.php?do=fcmunreg&apikey=[your API key]&token=[token]

Method	: GET (preferred)

Parameters (GET)

<table>
	<tr>
		<th>Name</th>
		<th>Description</th>
		<th>Example</th>
		<th>Scope<th>
	</tr>
	<tr>
		<td>apikey</td>
		<td>Your API key</td>
		<td>10 digits code, ex 1234567890</td>
		<td>Mandatory</td>
	</tr>
	<tr>
		<td>token</td>
		<td>The FCM token as generated by Google FCM API (142 chars, alphanumeric) to unreg</td>
		<td>142 alphanumeric code, ex fjEKD5DSaVUUu0fJHyhz5e:APA91bGaKoQfcw_ ... 4-D2JcXl9aayUjJY3sst9wESH0</td>
		<td>Mandatory</td>
	</tr>
</table>


Return value (JSON format)

<table>
	<tr>
		<th>Name</th>
		<th>Description</th>
		<th>Example</th>
	</tr>
	<tr>
		<td>errno</td>
		<td>4 digits error code, 1000 = SUCCESS</td>
		<td>1000</td>
	</tr>
	<tr>
		<td>errstr</td>
		<td>Textual description of the error code</td>
		<td>1000 = SUCCESS, 2003 = ACCOUNT IS NOT VALID, etc.</td>
	</tr>
	<tr>
		<td>instant</td>
		<td>WIT-based transaction instant in YYYY-MM-DD HH-MM-SS format</td>
		<td>2026-01-08 21:11:42</td>
	</tr>
</table>

Example

Request

```
https://radiahub.22web.org/fcmproxy.php?do=fcmunreg&apikey=12345678&token=fjEKD5DSaVUUu0fJHyhz5e:APA91bGaKoQfcw_ ... 4-D2JcXl9aayUjJY3sst9wESH0
```

Response

```json
{
	"errno"   : 1000,
	"errstr"  : "SUCCESS",
	"instant" : "2026-01-08 21:11:42"
}
```

<br>

## radiahub public repositories on GitHub

<table>
	<tr>
		<th>Description</th>
		<th>Link</th>
	</tr>
	<tr>
		<td>iframe-based proxy for easy Firebase Cloud Messaging instant messaging integration</td>
		<td><a href="https://github.com/radiahub/fcmproxy">https://github.com/radiahub/fcmproxy</a></td>
	</tr>
</table>

<br>
<br>

---
Copyright &copy; radiahub Denis Auguste Patrice 2026 - All rights reserved
